<<<<<<< HEAD
A51 MACRO ASSEMBLER  HW                                                                   06/13/2021 11:58:32 PAGE     1
=======
A51 MACRO ASSEMBLER  HW                                                                   06/22/2021 12:59:21 PAGE     1
>>>>>>> bff2cfa (Á∫¢Â§ñÈÅ•Êéß)


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\hw.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE hw.a51 SET(SMALL) DEBUG PRINT(.\Listings\hw.lst) OBJECT(.\Objects\hw.ob
                      j) EP

LOC  OBJ            LINE     SOURCE

<<<<<<< HEAD
                       1     ?PR?HONGWAI SEGMENT CODE; //  ??????????
                       2     PUBLIC HONGWAI;     //????
----                   3     RSEG ?PR?HONGWAI; 
=======
                       1     ?PR?HONGWAI SEGMENT CODE
                       2     PUBLIC HONGWAI;     
----                   3     RSEG ?PR?HONGWAI; ƒ‹πª»√c”Ô—‘µ˜”√ª„±‡∫Ø 
>>>>>>> bff2cfa (Á∫¢Â§ñÈÅ•Êéß)
                       4             
0000                   5     HONGWAI:
0000 30B203            6         JNB    P3.2,IR        ;“£øÿ…®√Ë
0003 020000   F        7         LJMP   HONGWAI          ;‘⁄’≥£Œﬁ“£øÿ–≈∫≈ ±£¨“ªÃÂªØ∫ÏÕ‚Ω” ’Õ∑ ‰≥ˆ «∏ﬂµÁ∆Ω£¨≥Ã–Ú“ª÷±‘⁄—≠ª
                             ∑°£
                       8      
                       9     ;=================================================
                      10     ;   Ω‚¬Î≥Ã–Ú
0006                  11     IR: 
                      12         ;“‘œ¬∂‘“£øÿ–≈∫≈µƒ9000Œ¢√Îµƒ≥ı ºµÕµÁ∆Ω–≈∫≈µƒ ∂±
0006 7C0A             13         MOV    R4,#10
0008                  14     IR_SB:
0008 1100     F       15         ACALL  DELAY882        ;µ˜”√882Œ¢√Î—” ±◊”≥Ã–Ú
000A 20B22B           16         JB     P3.2,IR_ERROR   ;—” ±882Œ¢√Î∫Û≈–∂œP2.2Ω≈ «∑Ò≥ˆœ÷∏ﬂµÁ∆Ω»Áπ˚”–æÕÕÀ≥ˆΩ‚¬Î≥Ã–Ú
000D DCF9             17         DJNZ   R4,IR_SB        ;÷ÿ∏¥10¥Œ£¨ƒøµƒ «ºÏ≤‚‘⁄8820Œ¢√Îƒ⁄»Áπ˚≥ˆœ÷∏ﬂµÁ∆ΩæÕÕÀ≥ˆΩ‚¬Î≥Ã–Ú
                      18      
                      19         ; ∂±¡¨∑¢¬Î£¨∫ÕÃ¯π4.5maµƒ∏ﬂµÁ∆Ω°£
000F 30B2FD           20         JNB     P3.2, $         ;µ»¥∏ﬂµÁ∆Ω±‹ø™9∫¡√ÎµÕµÁ∆Ω“µº¬ˆ≥Â
0012 1100     F       21         ACALL  DELAY2400
0014 30B21F           22         JNB     P3.2,IR_Rp    ;’‚¿ÔŒ™µÕµÁ∆Ω£¨»œŒ™ «¡¨∑¢¬Î–≈∫≈£¨º˚Õº£∂°£
0017 1100     F       23         ACALL  DELAY2400      ;—” ±4.74∫¡√Î±‹ø™4.5∫¡√ÎµƒΩ·π˚¬Î
<<<<<<< HEAD
                      24      
                      25         ;“‘œ¬32 æ›¬Îµƒ∂¡»°°°£¨£∞∫Õ£±µƒ ∂±°°«Îø¥Õº£≤
0019 791A             26         MOV     R1,#1AH        ;…Ë∂®1AHŒ™∆ ºRAM«¯
001B 7A04             27         MOV     R2,#4 
001D                  28     IR_4BYTE: 
001D 7B08             29         MOV     R3,#8
001F                  30     IR_8BIT:   
001F 30B2FD           31         JNB     P3.2,$         ;µ»¥µÿ÷∑¬Îµ⁄“ªŒªµƒ∏ﬂµÁ∆Ω–≈∫≈
0022 120000   F       32         LCALL  DELAY882        ;∏ﬂµÁ∆Ωø™ º∫Û”√882Œ¢√Îµƒ ±º‰≥ﬂ»•≈–∂œ–≈∫≈¥À ±µƒ∏ﬂµÕµÁ∆Ω◊¥Ã¨
0025 A2B2             33         MOV    C,P3.2          ;Ω´P2.2“Ω≈¥À ±µƒµÁ∆Ω◊¥Ã¨0ªÚ1¥Ê»ÎC÷–
0027 5003             34         JNC     IR_8BIT_0      ;»Áπ˚Œ™0æÕÃ¯◊™µΩIR_8BIT_0
0029 120000   F       35         LCALL  DELAY1000
002C                  36     IR_8BIT_0: 
002C E7               37         MOV    A,@R1           ;Ω´R1÷–µÿ÷∑µƒ∏¯A
002D 13               38         RRC    A               ;Ω´C÷–µƒ÷µ0ªÚ1“∆»ÎA÷–µƒ◊ÓµÕŒª
002E F7               39         MOV    @R1,A           ;Ω´A÷–µƒ ‘› ±¥Ê∑≈‘⁄R1÷–
002F DBEE             40         DJNZ   R3,IR_8BIT      ;Ω” ’µÿ÷∑¬Îµƒ∏ﬂ8Œª
0031 09               41         INC    R1              ;∂‘R1÷–µƒ÷µº”1£¨ªªœ¬“ª∏ˆRAM
0032 DAE9             42         DJNZ   R2,IR_4BYTE     ;Ω” ’ÕÍ16Œªµÿ÷∑¬Î∫Õ8Œª æ›¬Î∫Õ8Œª æ›£¨
                      43                                ;¥Ê∑≈‘⁄1AH/1BH/1CH/1DHµƒRAM÷–
                      44          ;Ω‚¬Î≥…π¶
0034 8005             45         JMP    IR_GOTO
                      46      
0036                  47     IR_Rp:
                      48         ;’‚¿ÔŒ™÷ÿ∏¥¬Î÷¥––¥¶
                      49         ;∞¥◊°“£øÿ∞¥º¸ ±£¨√øπ108msæÕµΩ’‚¿Ô¿¥
0036 8003             50         JMP    IR_GOTO
                      51      
0038                  52     IR_ERROR:
                      53         ;¥Ì”ÔÕÀ≥ˆ
0038 020000   F       54         LJMP   HONGWAI ;ÕÀ≥ˆΩ‚¬Î◊”≥Ã–Ú
                      55      
                      56     ;=================================================
A51 MACRO ASSEMBLER  HW                                                                   06/13/2021 11:58:32 PAGE     2

                      57     ;“£øÿ÷¥––≤ø∑›
003B                  58     IR_GOTO:
                      59         ;’‚¿Ôªπ“™≈–∂œ1AH∫Õ1BH°°¡Ω∏ˆœµÕ≥¬ÎªÚ”√ªß¬Î£¨”√”⁄ ∂±≤ªÕ¨µƒ“£øÿ∆˜
                      60         ;MOV   A,1AH
                      61         ;CJNE  A,#xxH,IR_ERROR   ;”√ªß¬Î£±≤ª∂‘‘ÚÕÀ≥ˆ
                      62         ;MOV   A,1BH
                      63         ;CJNE  A,#xxH,IR_ERROR   ;”√ªß¬Î£≤≤ª∂‘‘ÚÕÀ≥ˆ
                      64      
                      65      
                      66      
                      67         ;≈–∂œ¡Ω∏ˆ æ›¬Î «∑Òœ‡∑¥
003B E51C             68         MOV    A,1CH
003D F4               69         CPL    A
003E B51DF7           70         CJNE   A,1DH,IR_ERROR    ;¡Ω∏ˆ æ›¬Î≤ªœ‡∑¥‘ÚÕÀ≥ˆ
                      71         ;“£øÿ÷¥––≤ø∑›
                      72         ;MOV   A,1DH             ;≈–∂œ∂‘”¶∞¥º¸
                      73         ;CJNE  A,#xxH,$+6
                      74         ;LJMP  -®§Ã¯µΩ∂‘”¶∞¥º¸÷¥––¥¶
                      75         ;CJNE  A,#xxH,$+6
                      76         ;LJMP  -®§Ã¯µΩ∂‘”¶∞¥º¸÷¥––¥¶
                      77         ;.
0041 851DA0           78         MOV     P2,1DH         ;Ω´∞¥º¸µƒº¸÷µÕ®πP1ø⁄µƒ8∏ˆLEDœ‘ æ≥ˆ¿¥!
                      79     
                      80      
                      81         ;«Â≥“£øÿ÷µ π¡¨∞¥ ß–ß
0044 751A00           82         MOV    1AH,#00H
0047 751B00           83         MOV    1BH,#00H
004A 751C00           84         MOV    1CH,#00H
004D 751D00           85         MOV    1DH,#00H 
0050 22               86         RET
                      87             
                      88     ;=================================================
                      89     ; —” ±◊”≥Ã–Ú
                      90     ;=============================882
                      91     ;1.085x ((202x4)+5)=882
0051                  92     DELAY882:   
0051 7FCA             93         MOV R7,#202
0053                  94     DELAY882_A:
0053 00               95         NOP
0054 00               96         NOP
0055 DFFC             97         DJNZ   R7,DELAY882_A
0057 22               98     RET
                      99      
                     100     ;=============================1000
                     101     ;1.085x ((229x4)+5)=999.285
0058                 102     DELAY1000: 
0058 7FE5            103         MOV R7,#229
005A                 104     DELAY1000_A:
005A 00              105         NOP
005B 00              106         NOP
005C DFFC            107         DJNZ   R7,DELAY1000_A
005E 22              108     RET
                     109     ;=============================2400
                     110     ;1.085x ((245x9)+5)=2397.85
005F                 111     DELAY2400:   
005F 7FF5            112         MOV R7,#245
0061                 113     DELAY2400_A:
0061 00              114         NOP
0062 00              115         NOP
0063 00              116         NOP
0064 00              117         NOP
0065 00              118         NOP
0066 00              119         NOP
0067 00              120         NOP
0068 DFF7            121         DJNZ R7,DELAY2400_A
006A 22              122     RET
A51 MACRO ASSEMBLER  HW                                                                   06/13/2021 11:58:32 PAGE     3

                     123     END
A51 MACRO ASSEMBLER  HW                                                                   06/13/2021 11:58:32 PAGE     4
=======
                      24             ;…œ ˆ « ∂± æ›«∞µƒ–≈∫≈
                      25      
                      26         ;“‘œ¬32 æ›¬Îµƒ∂¡»°°°£¨£∞∫Õ£±µƒ ∂±°°«Îø¥Õº2
0019 791A             27         MOV     R1,#1AH        ;…Ë∂®1AHŒ™∆ ºRAM«¯
001B 7A04             28         MOV     R2,#4 
001D                  29     IR_4BYTE: 
001D 7B08             30         MOV     R3,#8
001F                  31     IR_8BIT:   
001F 30B2FD           32         JNB     P3.2,$         ;µ»¥µÿ÷∑¬Îµ⁄“ªŒªµƒ∏ﬂµÁ∆Ω–≈∫≈
0022 120000   F       33         LCALL  DELAY882        ;∏ﬂµÁ∆Ωø™ º∫Û”√882Œ¢√Îµƒ ±º‰≥ﬂ»•≈–∂œ–≈∫≈¥À ±µƒ∏ﬂµÕµÁ∆Ω◊¥Ã¨
0025 A2B2             34         MOV    C,P3.2          ;Ω´P2.2“Ω≈¥À ±µƒµÁ∆Ω◊¥Ã¨0ªÚ1¥Ê»ÎC÷–
0027 5003             35         JNC     IR_8BIT_0      ;»Áπ˚Œ™0æÕÃ¯◊™µΩIR_8BIT_0
0029 120000   F       36         LCALL  DELAY1000
002C                  37     IR_8BIT_0: 
002C E7               38         MOV    A,@R1           ;Ω´R1÷–µÿ÷∑µƒ∏¯A
002D 13               39         RRC    A               ;Ω´C÷–µƒ÷µ0ªÚ1“∆»ÎA÷–µƒ◊ÓµÕŒª
002E F7               40         MOV    @R1,A           ;Ω´A÷–µƒ ‘› ±¥Ê∑≈‘⁄R1÷–
002F DBEE             41         DJNZ   R3,IR_8BIT      ;Ω” ’µÿ÷∑¬Îµƒ∏ﬂ8Œª
0031 09               42         INC    R1              ;∂‘R1÷–µƒ÷µº”1£¨ªªœ¬“ª∏ˆRAM
0032 DAE9             43         DJNZ   R2,IR_4BYTE     ;Ω” ’ÕÍ16Œªµÿ÷∑¬Î∫Õ8Œª æ›¬Î∫Õ8Œª æ›£¨
                      44                                ;¥Ê∑≈‘⁄1AH/1BH/1CH/1DHµƒRAM÷–
                      45          ;Ω‚¬Î≥…π¶
0034 8005             46         JMP    IR_GOTO
                      47      
0036                  48     IR_Rp:
                      49         ;’‚¿ÔŒ™÷ÿ∏¥¬Î÷¥––¥¶
                      50         ;∞¥◊°“£øÿ∞¥º¸ ±£¨√øπ108msæÕµΩ’‚¿Ô¿¥
0036 8003             51         JMP    IR_GOTO
                      52      
0038                  53     IR_ERROR:
                      54         ;¥Ì”ÔÕÀ≥ˆ
0038 020000   F       55         LJMP   HONGWAI ;ÕÀ≥ˆΩ‚¬Î◊”≥Ã–Ú
                      56      
A51 MACRO ASSEMBLER  HW                                                                   06/22/2021 12:59:21 PAGE     2

                      57     ;=================================================
                      58     ;“£øÿ÷¥––≤ø∑›
003B                  59     IR_GOTO:
                      60         ;’‚¿Ôªπ“™≈–∂œ1AH∫Õ1BH°°¡Ω∏ˆœµÕ≥¬ÎªÚ”√ªß¬Î£¨”√”⁄ ∂±≤ªÕ¨µƒ“£øÿ∆˜
                      61         ;MOV   A,1AH
                      62         ;CJNE  A,#xxH,IR_ERROR   ;”√ªß¬Î£±≤ª∂‘‘ÚÕÀ≥ˆ
                      63         ;MOV   A,1BH
                      64         ;CJNE  A,#xxH,IR_ERROR   ;”√ªß¬Î£≤≤ª∂‘‘ÚÕÀ≥ˆ
                      65      
                      66      
                      67      
                      68         ;≈–∂œ¡Ω∏ˆ æ›¬Î «∑Òœ‡∑¥
003B E51C             69         MOV    A,1CH
003D F4               70         CPL    A
003E B51DF7           71         CJNE   A,1DH,IR_ERROR    ;¡Ω∏ˆ æ›¬Î≤ªœ‡∑¥‘ÚÕÀ≥ˆ
                      72         ;“£øÿ÷¥––≤ø∑›
                      73         ;MOV   A,1DH             ;≈–∂œ∂‘”¶∞¥º¸
                      74         ;CJNE  A,#xxH,$+6
                      75         ;LJMP  -®§Ã¯µΩ∂‘”¶∞¥º¸÷¥––¥¶
                      76         ;CJNE  A,#xxH,$+6
                      77         ;LJMP  -®§Ã¯µΩ∂‘”¶∞¥º¸÷¥––¥¶
                      78         ;.
0041 851DA0           79         MOV     P2,1DH         ;Ω´∞¥º¸µƒº¸÷µ¥´µ›µΩp2ø⁄£¨∑Ω±„÷˜∫Ø ≈–∂œ
                      80     
                      81      
                      82         ;«Â≥“£øÿ÷µ π¡¨∞¥ ß–ß
0044 751A00           83         MOV    1AH,#00H
0047 751B00           84         MOV    1BH,#00H
004A 751C00           85         MOV    1CH,#00H
004D 751D00           86         MOV    1DH,#00H 
0050 22               87         RET
                      88             
                      89     ;=================================================
                      90     ; —” ±◊”≥Ã–Ú
                      91     ;=============================882
                      92     ;1.085x ((202x4)+5)=882
0051                  93     DELAY882:   
0051 7FCA             94         MOV R7,#202
0053                  95     DELAY882_A:
0053 00               96         NOP
0054 00               97         NOP
0055 DFFC             98         DJNZ   R7,DELAY882_A
0057 22               99     RET
                     100      
                     101     ;=============================1000
                     102     ;1.085x ((229x4)+5)=999.285
0058                 103     DELAY1000: 
0058 7FE5            104         MOV R7,#229
005A                 105     DELAY1000_A:
005A 00              106         NOP
005B 00              107         NOP
005C DFFC            108         DJNZ   R7,DELAY1000_A
005E 22              109     RET
                     110     ;=============================2400
                     111     ;1.085x ((245x9)+5)=2397.85
005F                 112     DELAY2400:   
005F 7FF5            113         MOV R7,#245
0061                 114     DELAY2400_A:
0061 00              115         NOP
0062 00              116         NOP
0063 00              117         NOP
0064 00              118         NOP
0065 00              119         NOP
0066 00              120         NOP
0067 00              121         NOP
0068 DFF7            122         DJNZ R7,DELAY2400_A
A51 MACRO ASSEMBLER  HW                                                                   06/22/2021 12:59:21 PAGE     3

006A 22              123     RET
                     124     END
A51 MACRO ASSEMBLER  HW                                                                   06/22/2021 12:59:21 PAGE     4
>>>>>>> bff2cfa (Á∫¢Â§ñÈÅ•Êéß)

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

?PR?HONGWAI. . . .  C SEG    006BH       REL=UNIT
DELAY1000. . . . .  C ADDR   0058H   R   SEG=?PR?HONGWAI
DELAY1000_A. . . .  C ADDR   005AH   R   SEG=?PR?HONGWAI
DELAY2400. . . . .  C ADDR   005FH   R   SEG=?PR?HONGWAI
DELAY2400_A. . . .  C ADDR   0061H   R   SEG=?PR?HONGWAI
DELAY882 . . . . .  C ADDR   0051H   R   SEG=?PR?HONGWAI
DELAY882_A . . . .  C ADDR   0053H   R   SEG=?PR?HONGWAI
HONGWAI. . . . . .  C ADDR   0000H   R   SEG=?PR?HONGWAI
IR . . . . . . . .  C ADDR   0006H   R   SEG=?PR?HONGWAI
IR_4BYTE . . . . .  C ADDR   001DH   R   SEG=?PR?HONGWAI
IR_8BIT. . . . . .  C ADDR   001FH   R   SEG=?PR?HONGWAI
IR_8BIT_0. . . . .  C ADDR   002CH   R   SEG=?PR?HONGWAI
IR_ERROR . . . . .  C ADDR   0038H   R   SEG=?PR?HONGWAI
IR_GOTO. . . . . .  C ADDR   003BH   R   SEG=?PR?HONGWAI
IR_RP. . . . . . .  C ADDR   0036H   R   SEG=?PR?HONGWAI
IR_SB. . . . . . .  C ADDR   0008H   R   SEG=?PR?HONGWAI
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
